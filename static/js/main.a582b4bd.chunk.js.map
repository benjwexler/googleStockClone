{"version":3,"sources":["Chart.js","MyAppBar.js","theme.js","App.js","serviceWorker.js","index.js"],"names":["colorGreen","gradientData","offset","colorRed","color","getTabCompensation","_selectedTab","getTooltipTransformX","_translateX","_tooltipWidth","_width","tabCompensation","getAxisXInfo","tab","0","ticks","tickFormat","d","format","tooltipFormat","1","2","3","4","5","6","Chart","yDomain","selectedTab","fiveYearData","isLoading","showTooltip","setShowTooltip","isInGreenToday","previousClose","svg","useRef","chart","yAxis","xAxis","linearGradient","linearGradientStop0","linearGradientStop1","area","clippedPath","yAxisGrid","bisectLine","tooltipGroup","tooltip","mouseContainer","focusPoint","divContainer","previousCloseLine","previousCloseText","useState","height","setHeight","width","setWidth","setDimensions","document","body","clientHeight","clientWidth","getWidth","useEffect","window","addEventListener","current","style","d3","append","attr","on","remove","data","length","filter","date","minute","y","parseInt","slice","mostRecenDayOfWeek","x","day","yTicks","Math","round","maxY","max","apply","map","o","minY","min","domain","isInGreen","xScale","scaleDiscontinuous","range","tradingDatesArray","offDayArr","forEach","i","diff","push","clone","add","discontinuityProvider","discontinuityRange","yScale","nice","yTicksFunc","call","tickSize","lower","ticksArr","returnStartOfMonth","startOf","_fiveYearData","interval","floor","todaysDate","moment","createOneDaytickValues","tickValues","tickSizeOuter","tickSizeInner","line","datum","raise","areaData","y0","y1","text","mouseX","invert","this","bisect","left","d0","d1","price","tooltipWidth","querySelector","getBoundingClientRect","err","console","log","touch","touches","clientX","radiusX","updateChart","useStyles","makeStyles","theme","root","flexGrow","backgroundColor","palette","background","paper","scrollButtons","wrapper","textTransform","breakpoints","down","padding","borderRadius","appBarRoot","boxShadow","borderBottom","tabRoot","minWidth","fontSize","cursor","margin","paddingLeft","paddingRight","flexContainer","tabIndicatorProps","transition","bottom","position","tabSelected","MyAppBar","setSelectedTab","classes","tabProps","selected","disableRipple","getTabText","mobileText","className","AppBar","Tabs","value","onChange","event","newValue","aria-label","indicatorColor","textColor","variant","TabIndicatorProps","class","Tab","label","createMuiTheme","primary","main","grey","secondary","green","status","danger","mappedSymbols","stockSymbols","symbol","name","getDuration","App","stock","setStock","setFiveYearData","setIsLoading","quote","setQuote","getFormattedDataAction","close","a","duration","testUrl","axios","get","res","formattedData","_fetch","_latestProce","_previousClose","num","ThemeProvider","isClearable","filterOption","query","toUpperCase","indexOf","options","onInputChange","marginLeft","latestPrice","toString","replace","toFixed","id","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.a582b4bd.chunk.js","sourcesContent":["\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport { scaleDiscontinuous, discontinuityRange, discontinuitySkipWeekends } from 'd3fc-discontinuous-scale';\nimport moment, { utc } from 'moment';\n\nconst margin = 40;\nconst colorGreen = 'rgb(15, 157, 88)';\nconst gradientData = [{ offset: \"0%\", colorGreen: \"rgb(15, 157, 88, .65)\", colorRed: \"rgb(255,182,193, .65)\" },\n{ offset: \"50%\", color: \"rgb(255, 255, 255, 0)\" }]\n\nconst getTabCompensation = (_selectedTab) => _selectedTab === 0 ? 40 : 0;\n\nconst getTooltipTransformX = (_translateX, _tooltipWidth, _width, _selectedTab) => {\n  const tabCompensation = getTabCompensation(_selectedTab);\n  if ((_translateX - (_tooltipWidth / 2)) < 0) {\n    return 0;\n  }\n\n  if ((_translateX + tabCompensation) > _width - (_tooltipWidth / 2)) {\n    return _width - _tooltipWidth - tabCompensation;\n  }\n  return _translateX - (_tooltipWidth / 2) ;\n}\n\nconst getAxisXInfo = (tab) => {\n  const tabs = {\n    0: {\n      ticks: 3,\n      tickFormat: d => d.format(\"h:mm A\"),\n      tooltipFormat: d => d.format(\"h:mm A\"),\n    },\n    1: {\n      ticks: 5,\n      tickFormat: d => d.format(\"MMM DD\"),\n      tooltipFormat: d => d.format(\"ddd, MMM, D h:mm A\"),\n    },\n    2: {\n      ticks: 6,\n      tickFormat: d => d.format(\"MMM DD\"),\n      tooltipFormat: d => d.format(\"ddd, MMM, D\"),\n    },\n    3: {\n      ticks: 3,\n      tickFormat: d => d.format(\"MMM YYYY\"),\n      tooltipFormat: d => d.format(\"ddd, MMM, D\"),\n    },\n    4: {\n      ticks: 3,\n      tickFormat: d => d.format(\"MMM YYYY\"),\n      tooltipFormat: d => d.format(\"ddd, MMM, D, YYYY\"),\n    },\n    5: {\n      ticks: 5,\n      tickFormat: d => d.format(\"YYYY\"),\n      tooltipFormat: d => d.format(\"ddd, MMM, D, YYYY\"),\n    },\n    6: {\n      ticks: 5,\n      tickFormat: d => d.format(\"YYYY\"),\n      tooltipFormat: d => d.format(\"ddd, MMM, D, YYYY\"),\n    },\n  }\n\n  return tabs[tab];\n}\n\nconst updateChart = ({\n  svg,\n  yAxis,\n  xAxis,\n  height,\n  width,\n  selectedTab,\n  linearGradient,\n  clippedPath,\n  yAxisGrid,\n  fiveYearData,\n  isLoading,\n  mouseContainer,\n  bisectLine,\n  tooltip,\n  focusPoint,\n  linearGradientStop0,\n  linearGradientStop1,\n  divContainer,\n  isInGreenToday,\n  previousCloseLine,\n  previousClose,\n  previousCloseText,\n}) => {\n  clippedPath\n    .attr(\"width\", width)\n    .attr(\"height\", height);\n\n  mouseContainer\n    .style(\"width\", `${width}px`)\n    .style(\"height\", `${height + 100}px`);\n\n\n  divContainer\n    .style('min-height', `${height + 60}px`)\n\n  if (isLoading) {\n    return;\n  }\n\n  d3.selectAll(\".line\").remove();\n  d3.selectAll(\".area\").remove();\n\n  let data = fiveYearData;\n  if (!data.length || !data.length > 1) {\n    return\n  }\n\n\n  if (selectedTab === 0) {\n    data = data.filter(date => {\n      if (!date.minute || !date.y) {\n        return false\n      }\n      return parseInt(date.minute.slice(-2)) % 5 === 0\n    })\n  }\n\n  if (selectedTab === 1) {\n    data = data.filter(date => {\n      if (!date.minute || !date.y) {\n        return false;\n      }\n      return parseInt(date.minute.slice(-2)) % 30 === 0\n    })\n  }\n\n  if (selectedTab == 6) {\n    const mostRecenDayOfWeek = data[data.length - 1].x.day();\n    data = data.filter(date => date.x.day() === mostRecenDayOfWeek);\n  }\n\n\n  const yTicks = Math.round(height / 50);\n  const maxY = Math.max.apply(Math, data.map(function (o) { return o.y; }))\n  const minY = Math.min.apply(Math, data.map(function (o) { return o.y; }))\n\n  if (!data.length || !data.length > 1) {\n    return\n  }\n\n  let domain = [data[0].x, data[data.length - 1].x]\n  let isInGreen = selectedTab !== 0 ? data[0].y <= data[data.length - 1].y : isInGreenToday;\n\n  let xScale = scaleDiscontinuous(d3.scaleUtc())\n    .domain(domain)\n    .range([0, selectedTab !== 0 ? width : width - getTabCompensation(selectedTab)])\n\n  if ((data && data.length) && (selectedTab === 7 || selectedTab === 1 || selectedTab === 2 || selectedTab === 3 || selectedTab === 4 || selectedTab === 5 || selectedTab === 6)) {\n    const tradingDatesArray = data.map(d => d.x);\n    let offDayArr = []\n    tradingDatesArray.forEach((data, i) => {\n      if (tradingDatesArray[i + 1]) {\n        let diff;\n        if (selectedTab === 1) {\n          diff = tradingDatesArray[i].diff(tradingDatesArray[i + 1], 'minutes');\n        } else {\n          diff = tradingDatesArray[i].diff(tradingDatesArray[i + 1], 'days');\n        }\n\n        if (selectedTab !== 1 & diff !== -1) {\n          offDayArr.push([tradingDatesArray[i].clone().add(1, 'days'), tradingDatesArray[i + 1].clone()])\n        }\n\n        if (selectedTab === 1 & diff !== -30) {\n          offDayArr.push([tradingDatesArray[i].clone().add(30, 'minutes'), tradingDatesArray[i + 1].clone()])\n        }\n\n      }\n    })\n\n    xScale = scaleDiscontinuous(d3.scaleUtc())\n      .discontinuityProvider(discontinuityRange(...offDayArr))\n      .domain(domain)\n      .range([0, width])\n  }\n\n  const yScale = d3.scaleLinear()\n    .range([height, 0])\n    .domain([previousClose && minY < previousClose ? minY : previousClose, previousClose && maxY > previousClose ? maxY : previousClose])\n    .nice();\n\n  // var yGridTBottomTick = d3.select(\".yAxisGrid .tick\")\n  //   .style(\"display\", \"none\")\n\n  const yTicksFunc = () => {\n    const ticks = d3.axisLeft(yScale)\n      .ticks(yTicks)\n    return ticks\n  }\n\n  yAxis\n    .attr('class', 'yAxis')\n    .call(yTicksFunc()\n      .tickSize(0)\n    )\n\n  yAxisGrid\n    .call(yTicksFunc()\n      .tickSize(selectedTab !== 0 ? -width : -width + 50)\n    ).lower()\n\n  let ticksArr = []\n\n  const returnStartOfMonth = (data) => {\n    switch (selectedTab) {\n      case 3:\n      case 4:\n        return data.clone().startOf('month');\n      case 5:\n      case 6:\n        return data.clone().startOf('year');\n      default:\n        return data;\n    }\n  }\n\n  if (fiveYearData.length && selectedTab !== 0) {\n    const _fiveYearData = fiveYearData.filter(d => d.x)\n    const interval = fiveYearData.length / getAxisXInfo(selectedTab).ticks\n\n    for (let i = interval; i < _fiveYearData.length; i += interval) {\n      ticksArr.push(returnStartOfMonth(_fiveYearData[Math.floor(i)].x))\n    }\n\n    ticksArr.push(returnStartOfMonth(_fiveYearData[_fiveYearData.length - 1].x))\n  }\n\n  if (fiveYearData.length && (selectedTab === 0)) {\n    const createOneDaytickValues = () => {\n      let todaysDate = moment(fiveYearData[0].x.clone()).format('YYYY-MM-DD');\n      return (\n        [\n          moment(todaysDate).add(12, 'hours'),\n          moment(todaysDate).add(15, 'hours'),\n        ]\n      )\n    }\n\n    ticksArr = createOneDaytickValues();\n  }\n\n  xAxis\n    .attr('transform', `translate(0, ${height})`)\n    .attr('class', 'xAxis')\n    .call(d3.axisBottom(xScale)\n      .tickValues(ticksArr)\n      .tickSizeOuter(0)\n      .tickSizeInner(8)\n      .tickFormat(getAxisXInfo(selectedTab).tickFormat)\n    );\n\n  var line = d3.line()\n    .x(d => xScale(d.x))\n    .y(d => yScale(d.y));\n\n  svg\n    .append(\"path\")\n    .datum(data) // 10. Binds data to the line \n    .attr(\"class\", \"line\") // Assign a class for styling \n    .attr(\"d\", line) // 11. Calls the line generator\n    .attr('fill', 'none')\n    .attr('stroke', isInGreen ? colorGreen : 'rgb(230, 74, 25)')\n    .attr('stroke-width', '1.5px')\n    .raise()\n\n  linearGradient\n    .attr(\"x1\", 0).attr(\"y1\", yScale(maxY))\n    .attr(\"x2\", 0).attr(\"y2\", yScale(minY))\n  // .raise();\n\n  var areaData = d3.area()\n    .x(function (d) { return xScale(d.x); })\n    .y0(height)\n    .y1(function (d) { return yScale(d.y); });\n\n\n  bisectLine\n    .attr(\"y2\", height)\n    .raise()\n\n  previousCloseLine\n    .attr(\"x2\", width)\n    .attr(\"y1\", yScale(previousClose))\n    .attr(\"y2\", yScale(previousClose))\n    .style(\"display\", selectedTab === 0 ? '' : 'none')\n\n  previousCloseText\n    .text(`Previous Close ${previousClose}`)\n    .style('transform', `translate(${width - 40 + 10}px, ${yScale(previousClose)}px)`)\n    .style(\"display\", selectedTab === 0 ? '' : 'none')\n\n  mouseContainer\n    .attr(\"width\", width)\n    .attr(\"height\", height + 100)\n    .style(\"fill\", \"none\")\n    .style(\"pointer-events\", \"all\")\n    .on('mousemove', function () {\n      try {\n        const mouseX = xScale.invert(d3.mouse(this)[0])\n\n        const bisect = d3.bisector(d => d.x).left\n        const i = bisect(data, mouseX, 1);\n        const d0 = data[i - 1];\n        const d1 = data[i];\n        const d = mouseX - d0.x > d1.x - mouseX ? d1 : d0;\n\n        const point = d\n\n        const price = point.y;\n\n        bisectLine\n          .attr(\"transform\", `translate(${xScale(d.x)}, 0)`)\n\n        const getTooltipTransformY = (yPoint) => {\n          if (yPoint < 20) {\n            return height - 45\n          }\n          return - 15;\n        }\n\n        tooltip\n          .text(`${price} USD ${getAxisXInfo(selectedTab).tooltipFormat(d.x)}`)\n          .raise()\n\n        const tooltipWidth = document.querySelector('.tooltip').getBoundingClientRect().width;\n\n        tooltip\n          .style('position', 'absolute')\n          .style(\"transform\", `translate(${getTooltipTransformX(xScale(d.x), tooltipWidth, width, selectedTab)}px, ${getTooltipTransformY(yScale(d.y))}px)`)\n\n        focusPoint\n          .style(\"fill\", isInGreen ? colorGreen : \"red\")\n          .style(\"stroke\", isInGreen ? colorGreen : \"red\")\n          .attr(\"transform\",\n            `translate(${xScale(d.x)},\n          ${yScale(d.y)})`)\n          .raise();\n      } catch (err) {\n        console.log('err', err)\n      }\n    })\n\n    .on('touchmove', function () {\n      try {\n        const touch = d3.event.touches[0];\n        const mouseX = xScale.invert(touch.clientX - (touch.radiusX * 2))\n\n        const bisect = d3.bisector(d => d.x).left\n        const i = bisect(data, mouseX, 1);\n        const d0 = data[i - 1];\n        const d1 = data[i];\n        const d = mouseX - d0.x > d1.x - mouseX ? d1 : d0;\n\n        const point = d\n\n        const price = point.y;\n\n        bisectLine\n          .attr(\"transform\", `translate(${xScale(d.x)}, 0)`)\n\n        const getTooltipTransformY = (yPoint) => {\n          if (yPoint < 20) {\n            return height - 45\n          }\n          return - 15;\n        }\n\n        tooltip\n          .text(`${price} USD ${getAxisXInfo(selectedTab).tooltipFormat(d.x)}`)\n          .raise()\n\n        const tooltipWidth = document.querySelector('.tooltip').getBoundingClientRect().width;\n\n        tooltip\n          .style(\"transform\", `translate(${getTooltipTransformX(xScale(d.x), tooltipWidth, width, selectedTab)}px, ${getTooltipTransformY(yScale(d.y))}px)`)\n\n        focusPoint\n          .style(\"fill\", isInGreen ? colorGreen : \"red\")\n          .style(\"stroke\", isInGreen ? colorGreen : \"red\")\n          .attr(\"transform\",\n            `translate(${xScale(d.x)},\n          ${yScale(d.y)})`)\n          .raise();\n      } catch (err) {\n        console.log('err', err)\n      }\n    })\n  // .on('touchmove', function (e) {\n\n  //   var touch = d3.event.touches[0];\n  //   console.log('touch', touch)\n\n  // })\n\n  linearGradientStop0\n    .attr(\"offset\", gradientData[0].offset)\n    .attr(\"stop-color\", isInGreen ? gradientData[0].colorGreen : gradientData[0].colorRed)\n    .raise();\n\n  linearGradientStop1\n    .attr(\"offset\", gradientData[1].offset)\n    .attr(\"stop-color\", gradientData[1].color)\n    .raise();\n\n  svg.append(\"path\")\n    .data([data])\n    .attr(\"class\", \"area\")\n    .attr(\"d\", areaData)\n  // .lower();\n}\n\nconst Chart = ({\n  yDomain,\n  selectedTab,\n  fiveYearData,\n  isLoading,\n  showTooltip,\n  setShowTooltip,\n  isInGreenToday,\n  previousClose,\n}) => {\n  const svg = useRef();\n  const chart = useRef();\n  const yAxis = useRef();\n  const xAxis = useRef();\n  const linearGradient = useRef();\n  const linearGradientStop0 = useRef();\n  const linearGradientStop1 = useRef();\n  const area = useRef();\n  const clippedPath = useRef();\n  const yAxisGrid = useRef();\n  const bisectLine = useRef();\n  const tooltipGroup = useRef();\n  const tooltip = useRef();\n  const mouseContainer = useRef();\n  const focusPoint = useRef();\n  const divContainer = useRef();\n  const previousCloseLine = useRef();\n  const previousCloseText = useRef();\n\n  const [height, setHeight] = useState(600);\n  const [width, setWidth] = useState(600);\n\n  const setDimensions = () => {\n    const height = document.body.clientHeight > 812 ? 300 : document.body.clientHeight * .3\n    const getWidth = () => {\n      const clientWidth = document.body.clientWidth;\n      if (clientWidth - 80 > 600) {\n        return 600\n      }\n\n      if (clientWidth < 500) {\n        return clientWidth - 60 - 40;\n      }\n\n      return clientWidth - 80\n    }\n    const width = getWidth();\n    setHeight(height)\n    setWidth(width)\n  }\n\n  useEffect(() => {\n    setDimensions()\n    window.addEventListener(\"resize\", () => {\n      setDimensions()\n    });\n\n  }, [])\n\n  const onMount = () => {\n    divContainer.current = d3.select(\"#container\")\n      .append('div')\n      .style('display', 'flex')\n      .attr('class', 'outerDivContainer noselect')\n      .append('div')\n      .attr('class', 'divContainer');\n\n    svg.current = divContainer.current.append(\"svg\")\n      .attr('transform', `translate(${0}, ${0})`)\n      .attr('overflow', 'visible');\n\n    linearGradient.current = svg.current.append(\"linearGradient\")\n      .attr(\"id\", \"temperature-gradient\")\n      .attr(\"gradientUnits\", \"userSpaceOnUse\")\n\n\n    linearGradientStop0.current = linearGradient.current\n      .append(\"stop\");\n\n\n    linearGradientStop1.current = linearGradient.current\n      .append(\"stop\");\n\n    area.current = svg.current.append(\"path\");\n\n    clippedPath.current = svg.current.append(\"defs\").append(\"clipPath\")\n      .attr(\"id\", \"clip\")\n      .append(\"rect\")\n\n    chart.current = svg.current\n      .append('g')\n      .attr('transform', `translate(${0}, ${0})`)\n\n    yAxis.current = chart.current.append('g')\n    xAxis.current = chart.current.append('g');\n    yAxisGrid.current = chart.current.append('g').attr(\"class\", \"yAxisGrid\");\n\n    bisectLine.current = svg.current\n      .append(\"line\")\n      .attr('class', 'bisectLine')\n      .attr(\"style\", \"stroke:#999; stroke-width:0.5; stroke-dasharray: 5 3;\")\n      .attr(\"x1\", 0)\n      .attr(\"x2\", 0)\n      .style(\"opacity\", \"0\");\n\n    previousCloseLine.current = svg.current\n      .append(\"line\")\n      .attr('class', 'previousCloseLine')\n      .attr(\"style\", \"stroke:black; stroke-width:0.5; stroke-dasharray: 2 9;\")\n      .attr(\"x1\", 0)\n\n    tooltipGroup.current = svg.current.append(\"g\");\n\n    mouseContainer.current = divContainer.current\n      .append(\"div\")\n      .attr('class', 'mouseContainer')\n      .style('transform', `translate(${0}px, ${0}px)`)\n      .on('mouseover', function () {\n        setShowTooltip(true);\n      })\n      .on('touchstart', function () {\n        setShowTooltip(true);\n      })\n\n    previousCloseText.current = mouseContainer.current\n      .append('div')\n      .attr('class', 'previousCloseText')\n\n    tooltip.current = mouseContainer.current\n      .append('div')\n      .attr('class', 'tooltip')\n      .style('opacity', 0)\n\n    focusPoint.current = svg.current\n      .append(\"circle\")\n      .attr(\"class\", \"y\")\n      .attr(\"r\", 3)\n      .style(\"opacity\", \"0\");\n  }\n\n  useEffect(() => {\n    if (bisectLine.current && tooltip.current && focusPoint.current) {\n      if (showTooltip) {\n        bisectLine.current\n          .style(\"opacity\", \"1\");\n\n        tooltip.current\n          .style(\"opacity\", \"1\")\n\n        focusPoint.current\n          .style(\"opacity\", \"1\")\n\n      } else {\n        bisectLine.current\n          .style(\"opacity\", \"0\");\n\n        tooltip.current\n          .style(\"opacity\", \"0\")\n\n        focusPoint.current\n          .style(\"opacity\", \"0\")\n      }\n    }\n\n\n  }, [showTooltip])\n\n  useEffect(() => {\n    onMount()\n  }, [])\n\n  useEffect(() => {\n    updateChart({\n      yDomain,\n      svg: svg.current,\n      chart: chart.current,\n      yAxis: yAxis.current,\n      xAxis: xAxis.current,\n      height,\n      width,\n      selectedTab,\n      linearGradient: linearGradient.current,\n      area: area.current,\n      clippedPath: clippedPath.current,\n      yAxisGrid: yAxisGrid.current,\n      fiveYearData,\n      isLoading,\n      bisectLine: bisectLine.current,\n      tooltipGroup: tooltipGroup.current,\n      tooltip: tooltip.current,\n      mouseContainer: mouseContainer.current,\n      focusPoint: focusPoint.current,\n      linearGradientStop0: linearGradientStop0.current,\n      linearGradientStop1: linearGradientStop1.current,\n      divContainer: divContainer.current,\n      isInGreenToday,\n      previousCloseLine: previousCloseLine.current,\n      previousClose,\n      previousCloseText: previousCloseText.current,\n    })\n  }, [yDomain, height, width, selectedTab, fiveYearData, isLoading ])\n\n  return (\n    null\n  );\n}\n\nexport default Chart;\n","import React, { useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n    width: '100%',\n   \n  },\n  scrollButtons: {\n    color: 'black',\n  },\n  wrapper: {\n    textTransform: 'none',\n    [theme.breakpoints.down('xs')]: {\n      padding: '5px 10px',\n      borderRadius: '50%',\n      // background: '#f5f5f5',\n    },\n   \n  },\n  appBarRoot: {\n    boxShadow: 'none',\n    borderBottom: '1px solid #dcd9d9',\n  },\n  tabRoot: {\n    minWidth: 85,\n    fontSize: 13,\n    cursor: 'pointer',\n    margin: 'auto',\n    [theme.breakpoints.down('sm')]: {\n      minWidth: 40,\n      paddingLeft: 2,\n      paddingRight: 2,\n    },\n  },\n  flexContainer: {\n    // justifyContent: 'space-around',\n  },\n  tabIndicatorProps: {\n    transition: 'none',\n    bottom: 0,\n    height: 2,\n    position: 'absolute',\n    background: 'black',\n    [theme.breakpoints.down('sm')]: {\n      height: 0,\n    },\n  },\n  tabSelected: {\n    [theme.breakpoints.down('xs')]: {\n      color: '#3367d6 !important',\n    },\n  }\n}));\n\nexport default function MyAppBar({selectedTab, setSelectedTab, setShowTooltip}) {\n  const classes = useStyles();\n\n  const handleChange = (event, newValue) => {\n    setSelectedTab(newValue);\n    setShowTooltip(false)\n  };\n\n  const tabProps = {\n    classes: {\n      wrapper: classes.wrapper,\n      root: classes.tabRoot,\n      selected: classes.tabSelected,\n    },\n    disableRipple: true,\n    \n  }\n\n\nconst [width, setWidth] = useState(600);\n  useEffect(() => {\n    setWidth(document.body.clientWidth)\n    window.addEventListener(\"resize\", () => {\n      setWidth(document.body.clientWidth)\n    });\n\n  }, [])\n\n  const getTabText = (text, mobileText, _width = width) => {\n    if(_width >= 600) {\n      return text\n    }\n    return mobileText;\n  }\n  return (\n    <div className={classes.root}>\n      <AppBar \n        position=\"static\"\n        classes={{\n          root: classes.appBarRoot,\n        }}\n      >\n        <Tabs\n          value={selectedTab}\n          onChange={handleChange}\n          aria-label=\"simple tabs example\"\n          style={{background: 'white'}}\n          scrollButtons=\"auto\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"scrollable\"\n          classes={{\n            scrollButtons: classes.scrollButtons,\n            flexContainer: classes.flexContainer\n          }}\n          TabIndicatorProps={{\n            class: classes.tabIndicatorProps\n          }}\n          selected\n        >\n          <Tab {...tabProps} label={getTabText('1 day', '1D')}  />\n          <Tab {...tabProps} label={getTabText('5 days', '5D')}  />\n          <Tab {...tabProps} label={getTabText('1 month', '1M')} />\n          <Tab {...tabProps} label={getTabText('6 months', '6M')} />\n          <Tab {...tabProps} label={getTabText('YTD', 'YTD')}  />\n          <Tab {...tabProps} label={getTabText('1 year', '1Y')} />\n          <Tab {...tabProps} label={getTabText('5 years', '5Y')} />\n          {/* <Tab {...tabProps} disabled label=\"Max\" /> */}\n        </Tabs>\n      </AppBar>\n    </div>\n  );\n}","\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport {white, purple, green, grey } from '@material-ui/core/colors'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {main: grey[900]},\n    secondary: green,\n  },\n  status: {\n    danger: 'orange',\n  },\n});\n\nexport default theme;","import React, { useState, useEffect } from 'react';\nimport { createMuiTheme, makeStyles, ThemeProvider } from '@material-ui/core/styles';\nimport './App.css';\nimport Chart from './Chart';\nimport MyAppBar from './MyAppBar';\nimport theme from './theme';\nimport axios from 'axios';\nimport moment, { utc } from 'moment';\nimport Select from 'react-select';\nimport stockSymbols from './stockSymbols.json';\nimport { stripDiacritics } from './diacritics.js'\nimport { createFilter } from './filters';\nimport Async, { makeAsyncSelect } from 'react-select/async';\nimport WindowedSelect from \"react-windowed-select\";\n\nconst colorGreen = 'rgb(15, 157, 88)';\n\nfunction formatNumber(num) {\n  if(!num) return num;\n  return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\n}\n\nconst mappedSymbols = stockSymbols.map(symbol => {\n  symbol.value = symbol.symbol;\n  symbol.label = `${symbol.symbol} - ${symbol.name}`\n\n  return symbol\n})\n\nconst getDuration = (selectedTab) => {\n  const durationInfo = {\n    0: '1d',\n    1: '5dm',\n    2: '1m',\n    3: '6m',\n    4: 'ytd',\n    5: '1y',\n    6: '5y',\n  }\n\n  return durationInfo[selectedTab] || '5y';\n}\n\n\nfunction App() {\n  const [selectedTab, setSelectedTab] = useState(0);\n  const [stock, setStock] = useState({symbol: 'FB', name: 'Facebook Inc. Class A'})\n  const [fiveYearData, setFiveYearData] = useState([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [quote, setQuote] = useState({});\n\n  const getFormattedDataAction = (_selectedTab, data) => {\n    switch (_selectedTab) {\n      case 0:\n      case 1:\n        return (day) => {\n          return {\n            x: moment(day.date).add(day.minute.slice(0, 2), 'hours').add(day.minute.slice(-2), 'minutes'),\n            y: day.close,\n            minute: day.minute,\n          };\n        }\n      default:\n        return (day) => {\n          return {\n            x: moment(day.date),\n            y: day.close,\n          }\n\n        }\n    }\n  }\n\n\n  const getPercentageChange = (_latestProce, _previousClose) => {\n    return (((_latestProce/_previousClose) - 1) * 100).toFixed(2)\n  }\n  useEffect(() => {\n    const _fetch = async () => {\n      setIsLoading(true);\n      const duration = getDuration(selectedTab)\n      const testToken = 'Tsk_4f28bfa86e2e4385b069966f7dd179a3'\n      const token ='pk_34d804bf14b645efbdaf40ff1e393927'\n      const testUrl = `https://sandbox.iexapis.com/stable/stock/${stock.symbol}/batch?types=quote,chart&range=${duration}&last=10&token=${testToken}`;\n      const url = `https://cloud.iexapis.com/stable/stock/${stock.symbol}/batch?types=quote,chart&range=${duration}&token=${token}`\n\n      const isRealData = false && process.env.NODE_ENV === 'production';\n\n      try {\n        const res = await axios.get(isRealData ? url : testUrl )\n        setQuote(res.data.quote)\n        const data = res.data.chart;\n        const formattedData = data.map(getFormattedDataAction(selectedTab, data))\n        setFiveYearData(formattedData)\n      } catch (err) {\n        console.log('err', err)\n      }\n    }\n    _fetch();\n  }, [selectedTab, stock])\n\n\n  useEffect(() => {\n    setIsLoading(false)\n  }, [fiveYearData])\n\n  const [showTooltip, setShowTooltip] = useState(false);\n  const resultLimit = 1000\n  let i = 0\n  return (\n\n    <ThemeProvider theme={theme}>\n      <div>\n        <WindowedSelect\n          isClearable\n          filterOption={({ label, data }, query) => {\n            return (\n              label.toUpperCase().indexOf(query.toUpperCase()) >= 0 && i++ < resultLimit\n            )\n          }\n          }\n          options={mappedSymbols}\n          onInputChange={() => { i = 0 }}\n          onChange={(stock) => stock && stock.symbol ? setStock(stock) : null}\n          className=\"select\"\n        />\n      </div>\n      <h3 className=\"stockName\" style={{marginLeft: 10}}>{stock.symbol} - {stock.name}</h3>\n      <h2 \n        style={{marginLeft: 10}}\n      >\n        {formatNumber(quote.latestPrice)} \n        <span style={{fontSize: 16, color: 'rgba(0,0,0,.62)'}}> USD</span>\n        <span style={{fontSize: 16, color: quote.latestPrice - quote.previousClose >= 0 ? colorGreen : 'red'}}> {(quote.latestPrice - quote.previousClose).toFixed(2)} ({getPercentageChange(quote.latestPrice, quote.previousClose)}%) </span>\n        <i style={{fontSize: 14, color: quote.latestPrice - quote.previousClose >= 0 ? colorGreen : 'red'}} className={`fas ${quote.latestPrice - quote.previousClose >= 0 ? 'fa-arrow-up' : 'fa-arrow-down'}`}></i>\n      </h2>\n      <div id=\"container\">\n        <div className=\"App\">\n          <MyAppBar\n            selectedTab={selectedTab}\n            setSelectedTab={setSelectedTab}\n            showTooltip={showTooltip}\n            setShowTooltip={setShowTooltip}\n          />\n          <Chart\n            selectedTab={selectedTab}\n            fiveYearData={fiveYearData}\n            isLoading={isLoading}\n            showTooltip={showTooltip}\n            setShowTooltip={setShowTooltip}\n            isInGreenToday={quote.latestPrice - quote.previousClose >= 0}\n            previousClose={quote.previousClose}\n          />\n        </div>\n      </div>\n\n    </ThemeProvider>\n\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}